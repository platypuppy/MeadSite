<html>
<head>
<link rel="stylesheet" type="text/css" href="../new.css">
<link rel="stylesheet" type="text/css" href="new.css">
<title>cachelist-skeleton.c</title>
</head>

<style>
body {
   background : #ffffff; 
   margin-left : 50;
   margin-right : 20;
   background : url("../../../../../images/notebook.jpg");
   }
</style>

<pre class="sourcecode"><code>
<font color="990099">#include &lt;stdio.h&gt;     /* printf          */</font>
<font color="990099">#include &lt;stdlib.h&gt;    /* malloc, exit    */</font>
<font color="990099">#include &lt;string.h&gt;    /* strncpy         */</font>
<font color="990099">#include &quot;cachelist.h&quot; /* cachelist stuff */</font>

<b>static</b> cl_node *make_node(<b>int</b> value, <b>const</b> <b>char</b> *label)
{
  cl_node *node = (cl_node *)malloc(<b>sizeof</b>(cl_node));
  <b>if</b> (!node)
  {
    printf(<font color="#9933CC">&quot;Can't allocate new node.&#92;n&quot;</font>);
    exit(1);
  }

  node-&gt;value = value;
  node-&gt;next = NULL;

    <font color="#003399"><i>/* Be sure not to overwrite memory */</i></font>
  strncpy(node-&gt;label, label, LABEL_SIZE - 1);
  node-&gt;label[LABEL_SIZE - 1] = 0;
  
  <b>return</b> node;
}

<b>void</b> cl_dump(<b>const</b> cl_node *list)
{
  printf(<font color="#9933CC">&quot;==================&#92;n&quot;</font>);
  <b>while</b> (list)
  {
    printf(<font color="#9933CC">&quot;%4i: %s&#92;n&quot;</font>, list-&gt;value, list-&gt;label);
    list = list-&gt;next;    
  }
}
</code></pre>
</body>
</html>
